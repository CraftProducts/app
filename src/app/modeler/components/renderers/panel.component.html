<div class="layout-panel layout-panel-{{section.datatype}}" [ngClass]="{'panel-is-dirty': section && section.isDirty}">
    <div class="btn-group btn-group-sm btn-hover" style="z-index: 1;">
        <!-- <button class="btn btn-link text-muted" (click)="onShowEditor({mode: 'EDIT', section: section})">
            <fa-icon icon="pencil-alt"></fa-icon>
        </button> -->
        <button class="btn btn-link text-muted" (click)="onShowEditor({mode: 'VIEW', section: section})">
            <fa-icon icon="expand-alt"></fa-icon>
        </button>
    </div>
    <div>
        <app-metadata *ngIf="section.data" [data]="section.data"></app-metadata>
        <div class="h6"
            *ngIf="(section.title && section.title.length > 0 && !(section.data && section.data.image && section.datatype === 'image'))">
            <fa-icon *ngIf="section.icon && section.icon.length > 0" size="sm" [icon]="section.icon" class="text-brand">
            </fa-icon>
            {{section.title}}
        </div>
        <div *ngIf="!(section.data && (section.data.text || 
                                        section.data.selectedValue || 
                                        section.data.image || 
                                        (section.data.list && section.data.list.length > 0)))">
            <ngx-md class="text-muted small font-italic" [data]="section.summary"></ngx-md>
        </div>
        <div *ngIf="section.data" [ngSwitch]="section.datatype">
            <ng-container *ngSwitchCase="'text'">
                <div>
                    <ngx-md *ngIf="section.data.text" [data]="section.data.text"></ngx-md>
                </div>
            </ng-container>

            <ng-container *ngSwitchCase="'select'">
                <div *ngIf="section.data.selectedValue" class="badge badge-secondary">
                    {{getSelectedValue(section.data.selectedValue)}}
                </div>
            </ng-container>

            <ng-container *ngSwitchCase="'image'">
                <div class="text-center align-middle">
                    <img *ngIf="section.data.image" [src]="section.data.image"
                        [style.max-height.px]="section.properties.height"
                        [style.max-width.px]="section.properties.width" />
                </div>
            </ng-container>

            <ng-container *ngSwitchCase="'list'">
                <div *ngIf="section.data.list && section.data.list.length > 0">
                    <button class="btn panel-list-item" (click)="onShowItemDetails(item, section)" [title]="item.title"
                        *ngFor="let item of section.data.list">
                        <app-metadata [data]="item"></app-metadata>
                        <div class="item-text">
                            {{item.title}}
                        </div>
                    </button>
                </div>
            </ng-container>
        </div>
    </div>
</div>