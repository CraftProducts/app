<div class="row" *ngIf="data">
    <div class="col-md-6">
        <div *ngIf="mode !== 'EDIT'">
            <div class="text-center p-3">
                <img [src]="data.image"  height="100" width="100" *ngIf="data.image">
            </div>
            <div class="mt-3 text-right">
                <button class="btn btn-primary" (click)="onToggleMode('EDIT')">
                    <fa-icon icon="pencil-alt"></fa-icon> Change image
                </button>
            </div>
        </div>
        <div *ngIf="mode === 'EDIT'">

            <div>
                <img [src]="dataToEdit.image" height="100" width="100" *ngIf="dataToEdit.image" />
                <div class="text-muted small mt-3 mb-3">Recommended image size: 100 X 100 px.</div>
            </div>

            <sharedlib-load-localfile (fileLoaded)="onFileLoaded($event)" (error)="onFileLoadingError($event)"
                errorMessage="Invalid file. Choose image files." label="Open photo" accept="image/*" icon="user"
                readAs="DATAURL">
            </sharedlib-load-localfile>

            <div class="mt-3 text-right">
                <button class="btn btn-primary mr-2" (click)="onSave()">
                    <fa-icon icon="save"></fa-icon> Save
                </button>
                <button class="btn btn-light" (click)="onToggleMode('VIEW')">
                    <fa-icon icon="times"></fa-icon> Cancel
                </button>
            </div>
        </div>
    </div>
    <div class="offset-md-1 col-md-5">
        <app-record-editor [item]="data" (itemChange)="onItemChanged($event)" [showDelete]="false">
        </app-record-editor>
    </div>
</div>